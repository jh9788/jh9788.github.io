---
layout: single
title:  "[데이터베이스] 데이터 모델링"
typora-copy-images-to: ../../images/2023-10-19
Typora-root-url: ../../
categories: 
  - database

---

## 1. 데이터 모델의 이해



### 데이터베이스 모델링

현실세계를 단순화하여 표현하는 기법



### 모델링의 특징

1. 추상화: 현실 세계를 일정한 형식으로 표현하는 것
2. 단순화: 복잡한 현실 세계를 정해진 표기법으로 단순하고 쉽게 표현하는 것
3. 명확화: 불분명함을 제거하고 명확하게 해석할 수 있도록 기술함

**특징 3가지: 추상화, 단순화, 명확화**



### 모델링의 세 가지 관점

1. 데이터 관점: 데이터 위주의 모델링. 어떤 데이터가 업무와 얽혀있는지, 데이터 간에 어떤 관계가 있는지.
2. 프로세스 관점: 프로세스 위주의 모델링. 업무가 실제로 처리하고 있는 일은 무엇인지, 앞으로 처리해야 하는 일은 무엇인지.
3. 데이터와 프로세스의 상관 관점: 데이터와 프로세스의 관계를 위주로 한 모델링. 프로세스의 흐름에 따라 데이터가 어떤 영향을 받는지.

**관점 3가지: 데이터, 프로세스, 데이터와 프로세스**



### 모델링의 세 가지 단계

1. 개념적 데이터 모델링: 레벨이 가장 높은 모델링. 업무 중심적이고 포괄적인 수준의 모델링.
2. 논리적 데이터 모델링: 재사용성이 가장 높은 모델링. 데이터베이트 모델에 대한 키, 속성, 관계등을 모두 표현하는 모델링.
3. 물리적 데이터 모델링: 실제 데이터베이스로 구현하기 위해 성능, 가용성 등의 물리적 성격을 고려하여 표현하는 모델링.

**모델링 3가지: 개념적, 논리적, 물리적**



### 데이터 독립성

#### 3단계 스키마 구조

1. 외부 스키마: 사용자의 관점. 각 사용자가 보는 데이터베이스의 스키마. View
2. 개념 스키마: 통합된 관점. 모든 사용자가 보는 데이터베이스의 스키마를 통합한 전체 데이터베이스의 스키마.
3. 내부 스키마: 물리적 관점. 물리적인 저장구조. 실질적인 데이터 저장구조, 컬럼정의, 인덱스 등

**스키마 3단계: 외부, 개념, 내부**

#### 3단계 스키마 구조의 독립성

1. 논리적 독립성: 개념 스키마가 변경되어도 외부 스키마는 영향받지 않는다.
2. 물리적 독립성: 내부 스키마가 변경되어도 개념과 외부 스키마는 영향받지 않는다.



**스키마 독립성: 논리적(개념-외부), 물리적(내부-개념)**



### ERD(Entity Relationship Diagram)

1. Peter Chen: 주로 대학교재에서 사용하는 표기법으로 실무에서 사용 X
2. IDEF1X: 실무에서 사용하는 경우도 있음
3. IE/Crow's Foot: 까마귀 발 표기법, 가장 많이 사용
4. 등등 몇개 더 있음









## 2. 엔터티(Entity)
독립체, 데이터베이스에서 식별이 가능한 객체
엔티티는 각각 속성을 가짐

### 엔터티의 특징
1. 업무에서 쓰이는 정보여야함
2. 유니크함을 보장할 수 있는 식별자가 있어야함
3. 2개 이상의 인스턴스를 가지고 있어야함
4. 반드시 속성을 가지고 있어야함
5. 다른 엔터티와 1개 이상의 관계를 가지고 있어야함

### 엔터티의 분류
#### 유형 vs 무형
1. 유형 엔터티: 물리적인 형태존재, 안정적, 지속적 예) 상품, 회원
2. 개념 엔터티: 물리적 형태 없음, 개념적 예) 부서, 학과
3. 사건 엔터티: 행위를 함으로써 발생, 빈번함 예) 주문, 응모

#### 발생시점
1. 기본 엔터티: 독립적으로 생성됨. 자식 엔터티 가질 수 있음 예) 상품, 회원
2. 중심 엔터티: 기본 엔터티에서 파생, 행위 엔터티 생성 예) 주문
3. 행위 엔터티: 2개 이상의 엔터티로부터 파생 예) 주문내역, 이벤트 응모이력

## 3. 속성(Attribute)
사물이나 개념의 특징을 설명해 줄 수 있는 항목들


### 속성값
각각의 속성은 속성값을 가지며 속성값은 엔터티에 속한 하나의 인스턴스를 구체적으로 나타내는 데이터이다.  
하나의 속성은 한 개의 속성값. 여러개의 속성값 가질 경우 엔터티로 분리

### 엔터티, 속성, 속성값, 인스턴스의 관계
1. 한개의 엔터티는 두개 이상의 인스턴스를 가짐
2. 한개의 인스턴스는 두개 이상의 속성을 가짐
3. 한개의 속성은 하나의 속성값을 가짐

### 분류
#### 특성에 따른 분류
1. 기본속성: 가장 일반적 속성, 업무 프로세스 분석을 통해 바로 정의가 가능
2. 설계속성: 업무에 존재하지는 않지만 설계과정에서 필요에 의해 만들어진 속성 예) 학번
3. 파생속성: 다른 속성으로부터 파생 예) 재고량

#### 구성방식에 따른 분류
1. PK 속성: 엔터티의 인스턴스들을 식별할 수 있는 속성
2. FK 속성: 다른 엔터티의 속성에서 가져온 속성
3. 일반 속성: 위 두가지를 제외한 나머지 속성

### 도메인(Domain)
속성이 가질 수 있는 속성값의 범위

### 용어사전
하나의 데이터베이스에서 같은 의미를 가진 데이터가 엔터티마다 다른 이름으로 정의된다면 혼란 초래. 이걸 방지하기 위해 설계 시 용어사전을 두고 각 엔터티에 공통된 룰로 적용


## 4. 관계
엔터티와 엔터티의 관계

### 존재 관계
존재 자체로 연관성이 있는 관계. 예) 엄마-아기, 직원-부서, 학생-학과

### 행위 관계
특정한 행위를 함으로써 연관성이 생기는 관계. 예) 회원-주문, 학생-출석부

### 표기법
1. 관계명: 엔터티와 엔터티가 어떤 관계를 맺고 있는지 나타내는 문장. 모든 관계는 각 엔터티의 관점에서 두개의 관계명을 가짐
2. 관계차수: 각 엔터티에서 관계에 참여하는 수. 1:1, 1:M, M:N
3. 관계선택사양: 필수적 관계, 선택적 관계

## 5. 식별자
속성 중에 각각의 인스턴스를 구분 가능하게 만들어주는 대표격인 속성

### 주식별자
기본키, PK, 하나의 속성일수도 여러개의 속성일수도 있음

#### 수직별자의 속성
1. 유일성: 각 인스턴스에 유니크함
2. 최소성: 유일성을 보장하는 최소 개수의 속성
3. 불변성: 속성 값이 변하지 않아야
4. 존재성: NULL일 수 없다

### 분류
#### 대표성 여부
1. 주식별자: 대표 식별자. 다른 엔터티와 참조관계로 연결
2. 보조식별자: 식별 할 수는 있지만 대표가 아님. 다른 엔터티와 참조관계 X

#### 스스로 생성되었는지 여부
1. 내부식별자: 엔터티 내부에서 스스로 생성된 식별자
2. 외부식별자: 다른 엔터티에서 온 식별자. 다른 엔터티와 연결고리

#### 단일 속성 여부
1. 단일식별자: 하나의 속성
2. 복합식별자: 두개 이상의 속성

#### 대체 여부
1. 원조식별자: 업무 프로세스에 존재. 가공되지 않음(본질식별자)
2. 대리식별자: 주식별자의 속성이 두개 이상인 경우 그것들을 하나로 묶어서 사용(인조식별자)

### 식별자관계 vs 비식별자 관계
1. 식별자 관계: 부모 엔터티의 식별자가 자식 엔터티의 주식별자가 되는 관계. 부모 엔터티가 있어야함
2. 비식별자 관계: 부모 엔터티의 식별자가 자식 엔터티의 주식별자가 아닌 일반 속성이 되는 관계. 부모 엔터티가 없어도 됨






